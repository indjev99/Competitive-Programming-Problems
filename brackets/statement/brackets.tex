\documentclass[12pt]{article}
\input{structure.tex}
\renewcommand{\bottomtitlespace}{3cm}

\newcommand{\header}{
	ЛЕТЕН ТУРНИР ПО ИНФОРМАТИКА\\
	Русе, 7-9 юни 2024 г.\\
	Група A, 11 – 12 клас
}
\newcommand{\tl}{$0.15$ сек.}
\newcommand{\ml}{$256$ MB}

\begin{document}
	
\problem{Задача AK1. Скоби}

Иво решава задача с низ от $N$ правилно балансирани скоби, но не може да чете добре и се притеснява, че ще прочете някой подниз наобратно. Чуди се по колко начина може да се случи това, така че низът да остане правилно балансиран.

По-точно, даден е низ от $N$ символа, които са или \verb|(|, или \verb|)|. Низът е правилно балансиран, т.е. има еднакъв брой отварящи и затварящи скоби, на всяка отваряща съотества различна затваряща вдясно от нея и тези двойки отварящи-затварящи скоби не се пресичат, т.е. ако първата двойка е $A_1, B_1$, а втората $A_2, B_2$, такива че $A_1 < A_2$, е вярно, че или $A_1 < B_1 < A_2 < B_2$, или $A_1 < B_2 < A_2 < B_2$. 

Иво се чуди колко различни непразни подниза има, които могат да се обърнат в обратен ред (\textbf{без индвидуалните скоби да се обръщат}), така че целият низ все още да е правилно балансиран. Два подниза са различни, ако се различават позициите $L$ (на левите им краища) и/или $R$ (на десните). Целият низ също е подниз.

Например, ако низът е \verb|(())()|, възможните обръщания са 14:

\begin{itemize}
\item $L = R = 1$; получава се \verb|(())()|.
\item $L = R = 2$; получава се \verb|(())()|.
\item $L = R = 3$; получава се \verb|(())()|.
\item $L = R = 4$; получава се \verb|(())()|.
\item $L = R = 5$; получава се \verb|(())()|.
\item $L = R = 6$; получава се \verb|(())()|.
\item $L = 1$ и $R = 2$; получава се \verb|(())()|.
\item $L = 2$ и $R = 3$; получава се \verb|()()()|.
\item $L = 3$ и $R = 4$; получава се \verb|(())()|.
\item $L = 4$ и $R = 5$; получава се \verb|(()())|.
\item $L = 3$ и $R = 5$; получава се \verb|((()))|.
\item $L = 4$ и $R = 6$; получава се \verb|(())()|.
\item $L = 2$ и $R = 5$; получава се \verb|(())()|.
\item $L = 3$ и $R = 6$; получава се \verb|(()())|.
\end{itemize}

Напишете програма, която отговаря на запитването на Иво, т.е. тя трябва да смята въпросната бройка поднизове, които могат да бъдат обърнати без низът да стане небалансиран.

\subsection{Вход}
На първия ред на стандартния вход се въвежда едно число $N$ -- дължината на низа. На втория ред се въвежда низът без интервали. 

\subsection{Изход}
На единствен ред на стандартния изход изведете търсената бройка поднизове.

\subsection{Ограничения}
\vspace{0.1em}
\begin{itemize}
\item $2 \leq N \leq 4 \times 10^6$
\end{itemize}

\subsection{Подзадачи}

\begin{table}[H]
\begin{tblr}{|Q[c,m]|Q[c,m]|Q[c,m]|Q[c,m]|Q[c,m]|Q[c,m]|}
\hline
\textbf{Подзадача} & \textbf{Точки} & \textbf{$N \leq$} \\
\hline
$1$ & $7$ & $5 \times 10^2$ \\
\hline
$2$ & $9$ & $3 \times 10^3$ \\
\hline
$3$ & $11$ & $1.5 \times 10^4$ \\
\hline
$4$ & $30$ & $3 \times 10^5$ \\ 
\hline
$5$ & $21$ & $1.5 \times 10^6$ \\ 
\hline
$6$ & $22$ & $4 \times 10^6$ \\ 
\hline
\end{tblr}
\caption*{Точките за дадена подзадача се получават само ако се преминат успешно всички тестове в нея и всички предишни подзадачи.}
\end{table}
\vspace{0.5em}

\subsection{Пример}

\begin{table}[H]
\begin{tblr}{|m{3cm}|m{3cm}|}
\hline
\textbf{Вход} & \textbf{Изход} \\
\hline
\texttt{6\\
(())()} &
\texttt{14\\
} \\
\hline
\end{tblr}
\end{table}

\end{document}
