\documentclass[12pt]{article}
\newcommand{\bottomMargin}{2cm}

\newcommand{\header}{
	НАЦИОНАЛНА ОЛИМПИАДА ПО ИНФОРМАТИКА\\
	Национален кръг\\
	Хасково, 8-10 март 2024 г.\\
	Група AB, 9 – 12 клас, Ден 1
}

\newcommand{\tl}{$1.0$ сек.}
\newcommand{\ml}{$512$ MB}

\input{structure.tex}

\begin{document}
	
\section{Задача AB1. Fair}

Фелиша Дей обича да играе DnD. За целта ѝ трябват разнообразни зарчета, в случая $N$-странни. Тя си пада по риска и за да спести малко пари, си купила $K$ на брой зарчета на разпродажба. Открила обаче, че не всички от тях са честни (\textbf{едно зарче е честно ако вероятността да се падне всяка от страните му е равна}). По-точно, всяко зарче е честно с вероятност $P$, а ако не е честно, вероятностите за всяка от страните му са генерирани по следния начин:

\begin{enumerate}

\item За $i$ от $1$ до $N$, генерираме произволно число между $0$ и $1$, което наричаме $Q_i$.

\item Вероятността да се падне страна $i$ е равна на $\frac{Q_i}{Q_1 + Q_2 + \dotsb + Q_N}$.

\end{enumerate}
\textit{Можем да мислим за честните зарчета като такива с равни стойности на $Q_i$.}

Фелиша бърза да разбере кое е честно и кое не, но няма много време и затова е хвърлила всяко зарче по $M$ пъти. Тя е записала резултатите -- по колко пъти се е паднала всяка от страните на всяко от зарчетата, но не е сигурна как да анализира тези данни. Помогнете ѝ като напишете програма, която да класифицира зарчетата на честни и нечестни. Разбира се, не се очаква 100\% успеваемост. Вместо това, за всяка грешка има наказание: ако класифицирате честно зарче като нечестно, наказанието е $X$, а ако класифицирате нечестно зарче като честно, то е $Y$. Целта Ви е да минимизирате общото си наказание за грешки.

\subsection{Ограничения}
\vspace{0.1em}
\begin{itemize}
    \item $2 \leq N \leq 8$
    \item $15 \leq M \leq 40$
    \item $0.5 \leq P \leq 0.8$
    \item $0.3 \leq X, Y \leq 0.7$
    \item $X + Y = 1$
    \item $K = 100000$
\end{itemize}

\subsection{Вход}

От първия ред на стандартния вход се въвеждат $N$, $M$, $P$, $X$ и $Y$. На следващия ред се въвежда $K$. На всеки от следващите $K$ реда се въвеждат по $N$ числа -- на ред $i$ числото $j$ е бройката пъти, колкото се е паднала страна $j$ на зарче $i$.

\subsection{Изход}

На стандартния изход за всяко зарче на отделен ред изведете `1`, за да го класфицирате като честно, или `0` -- за нечестно.

\subsection{Оценяване}

Всеки тест се оценява поотделно. Точките за даден тест се определят по следния начин:

\begin{enumerate}

\item Нека $\mathrm{TP}$ е общото наказание от грешки на решението Ви.

\item $\mathrm{AP} = \frac{\mathrm{TP}}{K}$

\item $\mathrm{BAP} = \min{\left( P \times X, \left(1 - P\right) \times Y \right)}$

\item $S = \max{\left( \frac{\mathrm{BAP} - \mathrm{AP}}{\mathrm{BAP}}, 0 \right)}$

\item $R = \frac{S}{S_{\text{Author}}}$

\item Точките Ви са: 
$\left\{ 
  \begin{array}{ c l }
    0.3 + 0.7 \times \left( 1 - {\left( 1 - \frac{R - 0.8}{1 - 0.8} \right)}^{0.75} \right) & \quad \textrm{ако } R \geq 0.8 \\
    \frac{0.3}{0.8} \times R & \quad \textrm{ако } R < 0.8 \\
  \end{array}
\right.$

\end{enumerate}

\subsection{Пример}
\begin{table}[H]
\begin{tblr}{|X[30,l]|X[15,l]|X[55,j]|}
    \hline
    \textbf{Вход} & \textbf{Изход} & \textbf{Обяснение на примера} \\
    \hline
    \texttt{3 15 0.6 0.35 0.65 \\
    4 \\
    4 7 4 \\
    5 5 5 \\
    9 5 1 \\
    3 6 6 \\
    }
    & 
    \texttt{0 \\
    1 \\
    0 \\
    1 \\
    }
    & 
    {Оказва се, че решението познава вярно за зарчета 2 и 3, но грешно за 1 и 4. Първата грешка носи наказание $0.35$, а втората -- $0.65$. Общото наказание е $1.0$.} \\
    \hline
\end{tblr}
\end{table}
\FloatBarrier
	
\end{document}