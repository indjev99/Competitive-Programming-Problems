За всяка отсечка я фиксираме като най-дълга, намираме броя невалидни комбинации и ги вадим от общия.
За целта precompute-ваме възможните сборове на всички двойки отсечки.
Това е еквивалентно на вдигане на полином на втора степен.
Използваме алгоритъм на Карацуба (частични точки) или FFT.
